<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
<!ENTITY imgroot "../images/overview_and_setup/eclipse_setup_files/" >
<!ENTITY % uimaents SYSTEM "../entities.ent" >  
%uimaents;
]>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<chapter id="ugr.ovv.eclipse_setup">
  <title>Setting up the Eclipse IDE to work with UIMA</title>
  <titleabbrev>Eclipse IDE setup for UIMA</titleabbrev>
  
  <para>This chapter describes how to set up the UIMA SDK to work with Eclipse. Eclipse (<ulink
      url="&url_eclipse;"/>) is a popular open-source Integrated Development
    Environment for many things, including Java. The UIMA SDK does not require that you use
    Eclipse. However, we recommend that you do use Eclipse because some useful UIMA SDK tools
    run as plug-ins to the Eclipse platform and because the UIMA SDK examples are provided in a
    form that's easy to import into your Eclipse environment.</para>
  
  <para>If you are not planning on using the UIMA SDK with Eclipse, you may skip this chapter and
    read <olink targetdoc="&uima_docs_tutorial_guides;" targetptr="ugr.tug.aae"/>
    next.</para>
  
  <para>This chapter provides instructions for
    
    <itemizedlist spacing="compact"><listitem><para>installing Eclipse, </para>
      </listitem>
      
      <listitem><para>installing the UIMA SDK's Eclipse plugins into your Eclipse
        environment, and </para></listitem>
      
      <listitem><para>importing the example UIMA code into an Eclipse project. </para>
        </listitem></itemizedlist></para>
  
  <para>The UIMA Eclipse plugins are designed to be used with Eclipse version 3.1 or
    later.</para>
  
  <section id="ugr.ovv.eclipse_setup.installation">
    <title>Installation</title>
    <section id="ugr.ovv.eclipse_setup.install_eclipse">
      <title>Install Eclipse</title>
      
      <itemizedlist spacing="compact"><listitem><para>Go to <ulink
          url="&url_eclipse;"/> and follow the instructions there to download Eclipse.
        </para></listitem>
        
        <listitem><para>We recommend using the latest release level (not an
          <quote>Integration level</quote>). Navigate to the Eclipse Release version you
          want and download the archive for your platform.</para></listitem>
        
        <listitem><para>Unzip the archive to install Eclipse somewhere, e.g., c:\</para>
          </listitem>
        
        <listitem><para>Eclipse has a bit of a learning curve. If you plan to make
          significant use of Eclipse, check out the tutorial under the help menu. It is well
          worth the effort. </para></listitem></itemizedlist>
      
    </section>
    
    <section id="ugr.ovv.eclipse_setup.install_emf">
      <title>Install additional Eclipse component: EMF</title>
      
      <para>EMF stands for Eclipse Modeling Framework. It is an add-on to Eclipse, and is used
        by the UIMA Eclipse tooling. Before installing it, please go to <ulink
          url="&url_emf;"/> and read the installation instructions, and then click on the
        "Update Manager" link to see what url to use in the next step, where you use the built-in
        facilities in Eclipse to find and install new features. </para>
      
      <para>Activate the software feature finding by using the menu: help &rarr; Software
        Updates &rarr; Find and Install. Select <quote>Search for new features to
        install</quote>, push <quote>Next</quote>. Specify the update site where EMF is
        found as a site to search, making sure the <quote>Ignore features not applicable to
        this environment</quote> box is checked, and push <quote>Finish</quote>. If your
        computer is on an internet connection which uses a proxy server, you can configure
        Eclipse to know about that. Put your proxy settings into Ecluse using the Eclipse
        preferences by accessing the menus: Window &rarr; Preferences... &rarr;
        Install/Update, and Enable HTTP proxy connection under the Proxy Settings with the
        information about your proxy. </para>
      
      <para>This will launch a search for updates to Eclipse; it may show a list of update site
        mirrors &ndash; click OK. When it finishes, it shows a list of possible updates in an
        expandable tree. Expand the tree nodes to find EMF SDK. The specific level may vary
        from the level shown below as newer versions are released.</para>
      
      <informalfigure>
        <mediaobject>
          <imageobject>
            <imagedata width="350px" format="JPG" fileref="&imgroot;image002.jpg"/>
          </imageobject>
          <textobject><phrase>Screenshot showing search results for EMF</phrase>
          </textobject>
        </mediaobject>
      </informalfigure>
      
      <para>Click <quote>Next</quote>. Then pick Eclipse Modeling Framework (EMF), and
        push <quote>Next</quote>, accept any licensing agreements, etc., until it
        finishes the installation. It may say it's an <quote>unsigned feature</quote>;
        proceed by clicking <quote>Install</quote>. If it recommends restarting, you may
        do that.</para>
      
      <para>This will install EMF, without any extras. (If you want the whole EMF system,
        including source and documentation, you can pick the <quote>EMF SDK</quote> and the
        <quote>Examples for Eclipse Modeling Framework</quote>.)</para>
      
    </section>
    
    <section id="ugr.ovv.eclipse_setup.install_uima_sdk">
      <title>Install the UIMA SDK</title>
      <para>If you haven't already done so, please download and install the UIMA SDK from
          <ulink url="&url_apache_uima_download;"/>.</para>
    </section>
    
    <section id="ugr.ovv.eclipse_setup.install_uima_eclipse_plugins">
      <title>Install the UIMA Eclipse Plugins</title>
      
      <para>In the directory %UIMA_HOME%/eclipsePlugin (The environment variable
        %UIMA_HOME% is where you installed the UIMA SDK), you will a set of folders. Copy these
        to your %ECLIPSE_HOME%/eclipse/plugins directory (%ECLIPSE_HOME% is where you
        installed Eclipse).</para>
      
    </section>
    
    <section id="ugr.ovv.eclipse_setup.start_eclipse">
      <title>Start Eclipse</title>
      <para>If you have Eclipse running, restart it (shut it down, and start it again) using
        the
        <code>-clean</code> option; you can do this by running the command
        <command>eclipse -clean</command> (see explanation in the next section) in the
        directory where you installed Eclipse. You may want to set up a desktop shortcut at
        this point for Eclipse. Eclipse has a bit of a learning curve. If you plan to make
        significant use of Eclipse, check out the tutorial under the help menu. It is well
        worth the effort. There are also books you can get that describe Eclipse and its
        use.</para>
      
      <para>The first time Eclipse starts up it will take a bit longer as it completes its
        installation. A <quote>welcome</quote> page will come up. After you are through
        reading the welcome information, click on the arrow to exit the welcome page and get to
        the main Eclipse screens.</para>
      
      <section id="ugr.ovv.eclipse_setup.special_startup_parameter_clean">
        <title>Special startup parameter for Eclipse: -clean</title>
        <para>If you have modified the plugin structure (by copying or files directly in the
          file system) in Eclipse 3.x after you started it for the first time, please include
          the <quote>-clean</quote> parameter in the startup arguments to Eclipse,
          <emphasis>one time</emphasis> (after any plugin modifications were done). This
          is needed because Eclipse may not notice the changes you made, otherwise. This
          parameter forces Eclipse to reexamine all of its plugins at startup and recompute
          any cached information about them.</para>
      </section>
      
    </section>
  </section>
  <section id="ugr.ovv.eclipse_setup.example_code">
    <title>Setting up Eclipse to view Example Code</title>
    <para>Later chapters refer to example code. You can create a special project in Eclipse to
      hold the examples. Here's how:</para>
    
    <itemizedlist spacing="compact"><listitem><para>In Eclipse, if the Java
      perspective is not already open, switch to it by going to Window &rarr; Open Perspective
      &rarr; Java.</para></listitem>
      
      <listitem><para>Set up a class path variable named UIMA_HOME, whose value is the
        directory where you installed the UIMA SDK. This is done as follows:
        
        <itemizedlist><listitem><para>Go to Window &rarr; Preferences &rarr; Java
          &rarr; Build Path &rarr; Classpath Variables.</para></listitem>
          
          <listitem><para>Click <quote>New</quote></para></listitem>
          
          <listitem><para>Enter UIMA_HOME (all capitals, exactly as written) in the
            <quote>Name</quote> field.</para></listitem>
          
          <listitem><para>Enter your installation directory (e.g. <literal>C:/Program
            Files/apache-uima</literal>) in the <quote>Path</quote> field</para>
            </listitem>
          
          <listitem><para>Click <quote>OK</quote> in the <quote>New Variable
            Entry</quote> dialog</para></listitem>
          
          <listitem><para>Click <quote>OK</quote> in the <quote>Preferences</quote>
            dialog</para></listitem>
          
          <listitem><para>If it asks you if you want to do a full build, click
            <quote>Yes</quote> </para></listitem></itemizedlist></para>
        </listitem>
      
      <listitem><para>Select the File &rarr; Import menu option</para></listitem>
      
      <listitem><para>Select <quote>Existing Project into Workspace</quote> and click
        the <quote>Next</quote> button.</para></listitem>
      
      <listitem><para>Click <quote>Browse</quote> and browse to the
        %UIMA_HOME%/docs/examples directory</para></listitem>
      
      <listitem><para>Click <quote>Finish.</quote> This will create a new project called
        <quote>uima_examples</quote> in your Eclipse workspace. There should be no
        compilation errors. </para></listitem></itemizedlist>
    
    <para>To verify that you have set up the project correctly, check that there are no error
      messages in the <quote>Problems</quote> view.</para>
    
  </section>
  
  <section id="ugr.ovv.eclipse_setup.running_external_tools_from_eclipse">
    <title>Running external tools from Eclipse</title>
    
    <para>You can run many tools without using Eclipse at all, by using the shell scripts in the
      UIMA SDK's bin directory. In addition, many tools can be run from inside Eclipse;
      examples are the Document Analyzer, CPE Configurator, CAS Visual Debugger, Semantic
      Search, and JCasGen. The uima_examples project provides Eclipse launch
      configurations that make this easy to do.</para>
    
    <para>To run these tools from Eclipse:</para>
    
    <itemizedlist spacing="compact"><listitem><para>If the Java perspective is not
      already open, switch to it by going to Window &rarr; Open Perspective &rarr;
      Java.</para></listitem>
      
      <listitem><para>Go to Run &rarr; Run... </para></listitem>
      
      <listitem><para>In the window that appears, select <quote>UIMA CPE GUI</quote>,
        <quote>UIMA CAS Visual Debugger</quote>, <quote>UIMA JCasGen</quote>,
        <quote>UIMA Document Analyzer</quote>, or <quote>UIMA Semantic Search</quote>
        from the list of run configurations on the left. (If you don't see, these, please
        select the uima_examples project and do a Menu &rarr; File
        &rarr; Refresh).</para></listitem>
      
      <listitem><para>Press the <quote>Run</quote> button. The tools should start. Close
        the tools by clicking the <quote>X</quote> in the upper right corner on the GUI.
        </para></listitem></itemizedlist>
    
    <para>For instructions on using the Document Analyzer and CPE Configurator, see <olink
        targetdoc="&uima_docs_tools;" targetptr="ugr.tools.doc_analyzer"/>, and
        <olink targetdoc="&uima_docs_tools;" targetptr="ugr.tools.cpe"/> For
      instructions on using the CAS Visual Debugger and JCasGen, see <olink
        targetdoc="&uima_docs_tools;" targetptr="ugr.tools.cvd"/> and
        <olink targetdoc="&uima_docs_tools;" targetptr="ugr.tools.jcasgen"/></para>
    
  </section>
  
</chapter>
